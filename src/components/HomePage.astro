---
import Carousel from "./Carousel.astro";
import { getContent, type Lang } from "../lib/i18n";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const content = getContent(lang);
---

<!-- Hero Section -->
<section class="container text-center py-24">
  <h1 class="text-5xl sm:text-6xl font-bold tracking-tight gradient-text">{content.hero.name}</h1>
  <p class="text-muted mt-3 text-lg">{content.hero.tagline}</p>
  <div class="mt-6 inline-flex gap-3">
    <a class="btn btn-primary" href="mailto:kurt@kuehnert.dev">{content.hero.ctaContact}</a>
  </div>
</section>

<!-- About Section -->
<section class="container section">
  <h2 class="heading-gradient text-3xl mb-8">{content.about.title}</h2>
  <div class="card p-6">
    <p class="text-muted">{content.about.content}</p>
  </div>
</section>

<!-- Projects Section -->
<section id="projects" class="container section">
  <h2 class="heading-gradient text-3xl mb-8">{content.projects.title}</h2>
  <div class="space-y-6">
    {content.projects.items.map((project) => (
      <div class="card p-6">
        <div class="flex flex-col lg:flex-row gap-6">
          <div class="flex-1">
            <h3 class="text-xl font-semibold mb-2">{project.title}</h3>
            <p class="text-muted mb-4">{project.description}</p>
            <div class="flex flex-wrap gap-2 mb-4">
              {project.technologies.split(', ').map((tech) => (
                <span class="px-2 py-1 text-xs bg-white/[.06] rounded border border-white/10">{tech.trim()}</span>
              ))}
            </div>
            <a class="btn btn-primary" href={project.link} target="_blank" rel="noreferrer">
              {lang === 'de' ? 'Projekt ansehen' : 'View Project'}
            </a>
          </div>
          <div class="flex-1">
            <Carousel 
              id={`bevy-terrain-carousel-${lang}`}
              images={[
                {
                  src: "/screenshots/terrain/earth blue marble_square.png",
                  alt: lang === 'de' ? "Erde Blue Marble - Bevy Terrain Rendering der Erde" : "Earth Blue Marble - Bevy Terrain rendering of Earth",
                  title: lang === 'de' ? "Erde Blue Marble - Globale Terrain-Visualisierung" : "Earth Blue Marble - Global terrain visualization"
                },
                {
                  src: "/screenshots/terrain/local terrain_square.png",
                  alt: lang === 'de' ? "Lokales Terrain - Hochdetailliertes Terrain-Rendering" : "Local Terrain - High detail terrain rendering",
                  title: lang === 'de' ? "Lokales Terrain - Hochdetailliertes Terrain-Rendering" : "Local Terrain - High detail terrain rendering"
                },
                {
                  src: "/screenshots/terrain/swiss terrain_square.png",
                  alt: lang === 'de' ? "Schweizer Terrain - Alpenlandschaft-Rendering" : "Swiss Terrain - Alpine landscape rendering",
                  title: lang === 'de' ? "Schweizer Terrain - Alpenlandschaft-Rendering" : "Swiss Terrain - Alpine landscape rendering"
                },
                {
                  src: "/screenshots/terrain/swiss terrain 2_square.png",
                  alt: lang === 'de' ? "Schweizer Terrain 2 - Weitere Ansicht der Alpenlandschaft" : "Swiss Terrain 2 - Another view of alpine landscape",
                  title: lang === 'de' ? "Schweizer Terrain 2 - Weitere Ansicht der Alpenlandschaft" : "Swiss Terrain 2 - Another view of alpine landscape"
                },
                {
                  src: "/screenshots/terrain/terrain_square.png",
                  alt: lang === 'de' ? "Terrain - Allgemeines Terrain-Rendering-Beispiel" : "Terrain - General terrain rendering example",
                  title: lang === 'de' ? "Terrain - Allgemeines Terrain-Rendering-Beispiel" : "Terrain - General terrain rendering example"
                },
                {
                  src: "/screenshots/terrain/saxony render_square.png",
                  alt: lang === 'de' ? "Sachsen Render - Regionales Terrain-Rendering" : "Saxony Render - Regional terrain rendering",
                  title: lang === 'de' ? "Sachsen Render - Regionales Terrain-Rendering" : "Saxony Render - Regional terrain rendering"
                }
              ]}
            />
          </div>
        </div>
      </div>
    ))}
  </div>
</section>

<!-- Publications Section -->
<section id="publications" class="container section">
  <h2 class="heading-gradient text-3xl mb-8">{content.publications.title}</h2>
  <div class="space-y-6">
    {content.publications.items.map((publication) => (
      <div class="card p-6">
        <div class="flex flex-col lg:flex-row gap-6">
          <div class="lg:w-[65%]">
            <h3 class="text-xl font-semibold mb-2">{publication.title}</h3>
            <p class="text-muted mb-2">{publication.authors}</p>
            <p class="text-muted mb-4">{publication.venue}, {publication.year}</p>
            {publication.abstract && (
              <div class="mb-4">
                <h4 class="text-lg font-medium mb-2">{lang === 'de' ? 'Zusammenfassung' : 'Abstract'}</h4>
                <p class="text-muted text-sm leading-relaxed">{publication.abstract}</p>
              </div>
            )}
            {publication.keywords && publication.keywords.length > 0 && (
              <div class="mb-4">
                <h4 class="text-lg font-medium mb-2">{lang === 'de' ? 'Schlüsselwörter' : 'Keywords'}</h4>
                <div class="flex flex-wrap gap-2">
                  {publication.keywords.map((keyword) => (
                    <span class="px-2 py-1 text-xs bg-white/[.06] rounded border border-white/10">{keyword}</span>
                  ))}
                </div>
              </div>
            )}
            {publication.link && (
              <a href={publication.link} target="_blank" rel="noreferrer" class="btn btn-primary">
                {lang === 'de' ? 'Publikation ansehen' : 'View Publication'}
              </a>
            )}
          </div>
          <div class="lg:w-[35%] flex justify-center items-center">
            <img 
              src="/screenshots/paper preview.png" 
              alt={lang === 'de' ? "Paper Preview - VR/AR Workshop Publikation" : "Paper Preview - VR/AR Workshop Publication"}
              title={lang === 'de' ? "Paper Preview - VR/AR Workshop Publikation" : "Paper Preview - VR/AR Workshop Publication"}
              class="max-w-[280px] h-auto rounded-lg object-contain"
            />
          </div>
        </div>
      </div>
    ))}
  </div>
</section>

<!-- Experience Section -->
<section id="experience" class="container section">
  <h2 class="heading-gradient text-3xl mb-8">{content.experience.title}</h2>
  <div class="space-y-6">
    {content.experience.items.map((job) => (
      <div class="card p-6">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4">
          <div>
            <h3 class="text-xl font-semibold">{job.role}</h3>
            <p class="company-name">{job.company}</p>
          </div>
          <div class="text-sm text-muted">
            <p>{job.period}</p>
          </div>
        </div>
        <p class="text-muted">{job.description}</p>
      </div>
    ))}
  </div>
</section>

<!-- Education Section -->
<section id="education" class="container section">
  <h2 class="heading-gradient text-3xl mb-8">{content.education.title}</h2>
  <div class="space-y-6">
    {content.education.items.map((edu) => (
      <div class="card p-6">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4">
          <div>
            <h3 class="text-xl font-semibold">{edu.degree}</h3>
            <p class="company-name">{edu.institution}</p>
          </div>
          <div class="text-sm text-muted">
            <p>{edu.period}</p>
          </div>
        </div>
        <p class="text-muted">{lang === 'de' ? 'Note' : 'Grade'}: {edu.grade}</p>
      </div>
    ))}
  </div>
</section>
